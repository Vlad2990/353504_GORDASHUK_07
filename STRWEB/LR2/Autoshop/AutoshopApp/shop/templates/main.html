{% extends 'base.html' %}
{% load static %}

{% block style %}
    <link rel="stylesheet" href="{% static 'css\main.css' %}">
    <link rel="stylesheet" href="{% static 'css\animation.css' %}">
{% endblock %}

{% block body_class %}home-page{% endblock %}

{% block content %}


<!--<div class="box">
  <div class="lid"></div>
  <div class="base"></div>
  <img src="{% static "images\detal1.png" %}"> 
  <img src="{% static "images\detal2.png" %}"> 
  <img src="{% static "images\detal3.png" %}"> 
  <img src="{% static "images\detal4.png" %}"> 
  <img src="{% static "images\detal5.png" %}"> 
  <img src="{% static "images\detal6.png" %}"> 
</div>
<div class='advs'>
    <img src="{% static "images\ads1.jpg" %}" 
        srcset="{% static "images\ads1-small.jpg" %} 300w, 
                {% static "images\ads1-medium.jpg" %} 600w, 
                {% static "images\ads1-large.jpg" %} 1200w"
        sizes="(max-width: 600px) 50px,
               (max-width: 1200px) 100px,
               200px"
        alt="Ads 1"/>
    <img src="{% static "images\ads2.png" %}" alt="Ads2" height="370"/>
    <img src="{% static "images\ads3.png" %}" alt="Ads3" height="370"/>
</div>-->

<div class="slider-container">
  <div class="slide">
    <div class="numbertext">1/3</div>
    <img src="{% static "images\ads1-small.jpg" %}">
    <div class="caption">Ads 1</div>
  </div>

  <div class="slide">
    <div class="numbertext">2/3</div>
    <img src="{% static "images\ads3.png" %}">
    <div class="caption">Ads 2</div>
  </div>

  <div class="slide">
    <div class="numbertext">3/3</div>
    <img src="{% static "images\ads2.png" %}">
    <div class="caption">Ads 3</div>
  </div>

  <a class="prev" onclick="s.changeCurrent(s.currentSlide - 1)">&#10094;</a>
  <a class="next" onclick="s.changeCurrent(s.currentSlide + 1)">&#10095;</a>

  <div class="dots">
    <div class="slider-dot" onclick="s.changeCurrent(0)"></div>
    <div class="slider-dot" onclick="s.changeCurrent(1)"></div>
    <div class="slider-dot" onclick="s.changeCurrent(2)"></div>
  </div>
</div>

{% if user.is_staff %}
<form id="slider-settings">
    <label>
        Delay(ms):
        <input type="number" id="interval-input" name="interval-input" min="1000" max="10000">
    </label>
    <br>
    <label>
        Autoscrol
        <input type="checkbox" id="auto-toggle" name="auto-toggle" checked>
    </label>
    <label>
        Loop
        <input type="checkbox" id="loop-toggle" name="loop-toggle" checked>
    </label>    
    <label>
        Show navs
        <input type="checkbox" id="navs-toggle" name="navs-toggle" checked>
    </label>    
    <label>
        Show pags
        <input type="checkbox" id="pags-toggle" name="pags-toggle" checked>
    </label>
    <label>
        Stop if mouse hover
        <input type="checkbox" id="mouse-toggle" name="mouse-toggle" checked>
    </label>
    <div>
        <button type="submit">Apply</button>
    </div>
</form>
{% endif %}

<h2>Last news</h2>
<div class="new">
    <h3>{{ news.title }}</h3>
    <p>{{ news.short }}</p>
    <p><a id='ref' href="{% url 'news' %}" >Read more →</a></p>
</div>

<hr>
Timezone: {{ tz }}<br>
Date: <time>{{ date|date:"d/m/Y" }}</time>
<pre>{{cal}}</pre>

<section class="prods">
    <h2 id="prods">Products by category</h2>

    <form method="get" class="mb-4">
        <input type="text" name="q" value="{{ search_query }}" placeholder="Search..." class="form-control">
        
        <select name="sort">
            <option value="price" {% if sort_option == 'price' %}selected{% endif %}>Price ↑</option>
            <option value="-price" {% if sort_option == '-price' %}selected{% endif %}>Price ↓</option>
            <option value="name" {% if sort_option == 'name' %}selected{% endif %}>Name A→Z</option>
            <option value="-name" {% if sort_option == '-name' %}selected{% endif %}>Name Z→A</option>
        </select>
        
        <button type="submit" class="btn btn-primary">Apply</button>
    </form>
    
    <!--<article class="category-section">
        {% for category in categories %}
            <div class='grid-container'>
                <div class='full-div'>
                    {{ category.name }}
                </div>
            
                {% for product in category.product_set.all %}
                    <a href="{% url 'show_one_product' product.id %}" class='product-card' target="fr" >
                        <div itemscope itemtype="https://schema.org/Product">
                            <h3 itemprop="name" class='name-product'>{{ product.name }}</h3>
                            <p>Article: <span itemprop="sku">{{ product.article }}</span></p>
                            <div>
                                <p>Price: 
                                    <span itemprop="price" content="{{ product.price }}">{{ product.price }}</span> $ 
                                    <meta itemprop="priceCurrency" content="USD" />
                                </p>
                            </div>
                        </div>
                    </a>
                {% empty %}
                    <p>There are no products in that category now</p>
                {% endfor %}
            </div>
        {% endfor %}
    </article>-->

{% if user.is_staff %}
    <form id="pagination-settings">
        <label>
            Items per page:
            <input type="number" id="items-input" name="items-input">
        </label>
        <div>
            <button type="submit">Apply</button>
        </div>
    </form>
{% endif %}
    <article class="category-section">
    <div class="grid-container">
        {% for category in categories %}
        {% for product in category.product_set.all %}
            <a href="{% url 'show_one_product' product.id %}" class="product-card" target="fr">
                <div itemscope itemtype="https://schema.org/Product">
                    <h3 itemprop="name" class="name-product">{{ product.name }}</h3>
                    <p>Article: <span itemprop="sku">{{ product.article }}</span></p>
                    <div>
                        <p>Price: 
                            <span itemprop="price" content="{{ product.price }}">{{ product.price }}</span> $ 
                            <meta itemprop="priceCurrency" content="USD" />
                        </p>
                    </div>
                </div>
            </a>
        {% empty %}
            <p>There are no products available now</p>
        {% endfor %}
        {% endfor %}
    </div>
    </article>
    <div class='pagination'> </div>
</section>

<a href="#prods">Back↑</a><br>
<b>Our Partners</b><br>
{% for partner in partners %}
        <a class='partner-block' href="{{ partner.url }}">
            <img class='partner-logo' src="{{ partner.image.url }}" alt="partner" height="50">
            <p class='partner-name'>{{ partner.name }}</p>
        </a>
{% endfor %}

<div class='joke'>
    <p>«{{ joke }}»</p>
    ✦✦✦✦✦✦✦✦✦✦✦✦✦✦✦✦✦✦✦✦
</div>

{% endblock %}

{% block js %}
    <script src="{% static 'js/slider.js' %}"></script>
    <script src="{% static 'js/main.js' %}"></script>
{% endblock %}